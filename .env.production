# Multi-Server Deployment Configuration
# Copy this file to .env.production and update with your actual server IPs

# ===========================================
# NGINX SERVER CONFIGURATION (Server 1)
# ===========================================
# Port for Nginx reverse proxy
NGINX_PORT=80

# ===========================================
# AUTH SERVICE CONFIGURATION (Server 2)  
# ===========================================
# IP address of the server running Auth Service
AUTH_SERVICE_IP=192.168.1.100
# Port for Auth Service
AUTH_SERVICE_PORT=3001

# ===========================================
# MESSAGE SERVICE CONFIGURATION (Server 3)
# ===========================================
# IP address of the server running Message Service  
MESSAGE_SERVICE_IP=192.168.1.101
# Port for Message Service
MESSAGE_SERVICE_PORT=3002

# ===========================================
# SHARED ENVIRONMENT VARIABLES
# ===========================================
# These should be the same across all servers

# MongoDB Atlas connection string
MONGODB_URI=mongodb+srv://your-username:your-password@cluster.mongodb.net/chatty?retryWrites=true&w=majority

# JWT Secret for token signing (must be identical across all services)
JWT_SECRET=your-super-secret-jwt-key-here

# Cloudinary configuration
CLOUDINARY_CLOUD_NAME=your-cloudinary-cloud-name
CLOUDINARY_API_KEY=your-cloudinary-api-key
CLOUDINARY_API_SECRET=your-cloudinary-api-secret

# ===========================================
# DEPLOYMENT INSTRUCTIONS
# ===========================================
# 1. Server 1 (Nginx): Use docker-compose.nginx.yml
# 2. Server 2 (Auth): Use docker-compose.auth.yml  
# 3. Server 3 (Message): Use docker-compose.message.yml
#
# Ensure firewall rules allow:
# - Client traffic to Nginx server (port 80)
# - Nginx server to Auth service (AUTH_SERVICE_IP:3001)
# - Nginx server to Message service (MESSAGE_SERVICE_IP:3002)
